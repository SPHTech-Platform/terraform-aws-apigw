consumes:
- application/json
produces:
- application/json
schemes:
- https
- http
swagger: "2.0"
info:
  description: Newshub authentication api.
  title: NewshubAPI
  version: 0.0.0
host: dsnewsapi.sphdigital.com
basePath: /v2
paths:
  /auth/in-app/device:
    get:
      security:
      - api_key: []
      description: Login with registered device id
      tags:
      - auth
      operationId: inAppDevice
      parameters:
      - type: string
        name: authorization
        in: header
        required: true
      responses:
        "200":
          $ref: '#/responses/LoginResponse'
  /auth/in-app/products/{pub}/{device}:
    get:
      security:
      - api_key: []
      description: GetProductList call to get Product Listing based on PublicationCode
        and Device (iphone/ipad)
      tags:
      - auth
      - getProductList
      operationId: GetProductList
      parameters:
      - type: string
        name: pub
        in: path
        required: true
      - type: string
        name: device
        in: path
        required: true
      responses:
        "200":
          $ref: '#/responses/GetProductList'
  /auth/in-app/verify:
    post:
      security:
      - api_key: []
      description: Login with in-app purchase data
      tags:
      - auth
      operationId: inAppVerifyReceipt
      parameters:
      - name: Body
        in: body
        schema:
          $ref: '#/definitions/InAppVerifyRequestBody'
      responses:
        "200":
          $ref: '#/responses/LoginResponse'
  /auth/in-app/webhook:
    post:
      description: Webhook call server to server Notification
      tags:
      - auth
      operationId: inAppWebhook
      parameters:
      - name: Body
        in: body
        schema:
          $ref: '#/definitions/InAppWebhook'
      responses:
        "200":
          $ref: '#/responses/WebhookResponse'
  /auth/my-sph/check-device:
    get:
      security:
      - api_key: []
      description: Check device for MySPH User
      tags:
      - auth
      operationId: mySPHCheckDevice
      parameters:
      - type: string
        name: authorization
        in: header
        required: true
      responses:
        "200":
          $ref: '#/responses/MySPHCheckDeviceResponse'
  /auth/my-sph/login:
    post:
      security:
      - api_key: []
      description: Login to My SPH
      tags:
      - auth
      operationId: mySphLogin
      parameters:
      - name: Body
        in: body
        schema:
          $ref: '#/definitions/MySPHLoginRequestBody'
      responses:
        "200":
          $ref: '#/responses/LoginResponse'
  /auth/my-sph/logout:
    post:
      security:
      - api_key: []
      description: Logout from My SPH
      tags:
      - auth
      operationId: mySPHLogout
      parameters:
      - type: string
        name: authorization
        in: header
        required: true
      - name: Body
        in: body
        schema:
          $ref: '#/definitions/MySPHLogoutRequest'
      responses:
        "200":
          $ref: '#/responses/LogoutResponse'
definitions:
  ArticleDetail:
    type: object
    properties:
      attachments:
        type: array
        items:
          $ref: '#/definitions/Attachment'
      authors:
        type: array
        items:
          $ref: '#/definitions/Author'
      body:
        type: string
      contentPreview:
        type: string
      documentId:
        type: string
      headline:
        type: string
      images:
        type: array
        items:
          $ref: '#/definitions/ImageItemData'
      keywords:
        type: array
        items:
          $ref: '#/definitions/Tag'
      kicker:
        type: string
      mediaType:
        $ref: '#/definitions/MediaType'
      paid:
        type: boolean
      podcasts:
        type: array
        items:
          $ref: '#/definitions/Podcast'
      publicationTime:
        type: integer
        format: int64
      readingTime:
        type: integer
        format: int64
      section:
        $ref: '#/definitions/Section'
      sentiment:
        $ref: '#/definitions/Sentiment'
      sponsored:
        type: boolean
      sponsors:
        type: array
        items:
          $ref: '#/definitions/Sponsor'
      subHeadline:
        type: string
      teaser:
        type: string
      updatedTime:
        type: integer
        format: int64
      url:
        type: string
      videos:
        type: array
        items:
          $ref: '#/definitions/Video'
  ArticleDetailResponseBody:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        $ref: '#/definitions/ArticleDetail'
      message:
        type: string
  ArticleItemData:
    type: object
    properties:
      attachments:
        type: array
        items:
          $ref: '#/definitions/Attachment'
      authors:
        type: array
        items:
          $ref: '#/definitions/Author'
      documentId:
        type: string
      headline:
        type: string
      images:
        type: array
        items:
          $ref: '#/definitions/ImageItemData'
      kicker:
        type: string
      mediaType:
        $ref: '#/definitions/MediaType'
      paid:
        type: boolean
      podcasts:
        type: array
        items:
          $ref: '#/definitions/Podcast'
      publicationTime:
        type: integer
        format: int64
      readingTime:
        type: integer
        format: int64
      section:
        $ref: '#/definitions/Section'
      sponsored:
        type: boolean
      sponsors:
        type: array
        items:
          $ref: '#/definitions/Sponsor'
      subHeadline:
        type: string
      teaser:
        type: string
      updatedTime:
        type: integer
        format: int64
      url:
        type: string
      videos:
        type: array
        items:
          $ref: '#/definitions/Video'
  Attachment:
    type: object
    properties:
      id:
        type: string
      name:
        type: string
      url:
        type: string
  Author:
    type: object
    properties:
      description:
        type: string
      designation:
        type: string
      email:
        type: string
      id:
        type: integer
        format: int64
      location:
        type: string
      name:
        type: string
      photo:
        type: string
      twitter_handler:
        type: string
  AutoCompleteArticle:
    description: AutoCompleteArticle is the list of articles suggested for auto complete
    type: object
    properties:
      articleUrl:
        type: string
      documentId:
        type: string
      headline:
        type: string
  AutoCompleteResponseBody:
    description: AutoCompleteResponseBody is the body of autoComplete feed
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/AutoCompleteArticle'
      message:
        type: string
  Card:
    type: object
    properties:
      cardType:
        type: string
      items:
        type: array
        items:
          $ref: '#/definitions/CardItem'
  CardItem:
    type: object
    properties:
      articleData:
        $ref: '#/definitions/ArticleItemData'
      itemType:
        type: string
  Detail:
    description: Detail representation of DetailJson field
    type: object
    properties:
      coverImage:
        $ref: '#/definitions/FileInfo'
      page:
        $ref: '#/definitions/FileInfo'
      pageName:
        type: string
      thumbnail:
        $ref: '#/definitions/FileInfo'
  DetailBody:
    description: DetailBody body of detail response
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/EPaper'
      message:
        type: string
  Devices:
    description: 'Devices : Device model'
    type: object
    properties:
      appName:
        type: string
      appVersion:
        type: string
      deviceId:
        type: string
      deviceName:
        type: string
      mobilePackage:
        type: string
      osName:
        type: string
      osVersion:
        type: string
  Discover:
    description: Discover is the content of a successful discover keywords feed
    type: object
    properties:
      feed:
        type: string
      keyword:
        type: string
  DiscoverResponseBody:
    description: DiscoverResponseBody is the body of discover keywords feed
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/Discover'
      message:
        type: string
  EPaper:
    description: EPaper model
    type: object
    properties:
      classifiedXml:
        $ref: '#/definitions/FileInfo'
      date:
        type: string
      interactiveZip:
        $ref: '#/definitions/FileInfo'
      pdfs:
        type: array
        items:
          $ref: '#/definitions/Pdfs'
  EpaperResponse:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          type: object
      message:
        type: string
  FeedCard:
    description: FeedCard contains all elements in the cards
    type: object
    properties:
      cardType:
        type: string
      items:
        type: array
        items:
          $ref: '#/definitions/FeedItem'
  FeedItem:
    type: object
    properties:
      GetData:
        type: object
      GetItemType:
        type: string
  FeedsResponse:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/Card'
      message:
        type: string
  FileInfo:
    type: object
    properties:
      checksum:
        type: string
      filename:
        type: string
      url:
        type: string
  ImageItemData:
    type: object
    properties:
      caption:
        type: string
      copyright:
        type: string
      credit:
        type: string
      filename:
        type: string
      height:
        type: integer
        format: int64
      id:
        type: integer
        format: int64
      large:
        type: string
      medium:
        type: string
      mob_large:
        type: string
      name:
        type: string
      orientation:
        $ref: '#/definitions/ImageOrientation'
      rotator:
        type: string
      source:
        type: string
      square:
        type: string
      thumbnail:
        type: string
      url:
        type: string
      web_large:
        type: string
      weight:
        type: integer
        format: int64
      width:
        type: integer
        format: int64
  ImageOrientation:
    type: string
  InAppVerifyRequestBody:
    description: A Verify device parameter model
    type: object
    required:
    - receiptData
    - deviceId
    properties:
      deviceId:
        type: string
      receiptData:
        type: string
  InAppWebhook:
    type: object
    required:
    - latest_receipt_info
    properties:
      latest_receipt_info:
        $ref: '#/definitions/LatestReceipt'
  LatestReceipt:
    type: object
    required:
    - original_transaction_id
    - expires_date
    properties:
      expires_date:
        type: string
      original_transaction_id:
        type: string
  ListResponse:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/Product'
      message:
        type: string
  LoginResponseBody:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        $ref: '#/definitions/TokenData'
      message:
        type: string
  LogoutResponseBody:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          type: object
      message:
        type: string
  MediaType:
    type: string
  MySPHCheckDeviceResponseBody:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/Devices'
      message:
        type: string
  MySPHLoginRequestBody:
    description: |-
      A MySPHLoginRequestBody model
      this is used for request to login to MySPH
    type: object
    required:
    - username
    - password
    - deviceCode
    - deviceId
    - deviceName
    - osName
    - osVersion
    - appName
    - appVersion
    - serviceCode
    properties:
      appName:
        type: string
      appVersion:
        type: string
      deviceCode:
        type: string
      deviceId:
        type: string
      deviceName:
        type: string
      osName:
        type: string
      osVersion:
        type: string
      password:
        type: string
      serviceCode:
        type: string
      username:
        type: string
  MySPHLogoutRequest:
    description: |-
      A MySPHLogoutRequest model
      this is used for request to logout from MySPH
    type: object
    properties:
      deviceId:
        type: string
  PaginatedFeedsResponseBody:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/Card'
      message:
        type: string
      pagination:
        $ref: '#/definitions/Pagination'
  Pagination:
    type: object
    properties:
      current:
        type: integer
        format: int64
      next:
        type: integer
        format: int64
  Pdfs:
    description: Details is a collection of details with name and display name
    type: object
    properties:
      displayName:
        type: string
      epaper:
        type: array
        items:
          $ref: '#/definitions/Detail'
      name:
        type: string
  Podcast:
    type: object
    properties:
      provider:
        type: string
      url:
        type: string
  Product:
    description: Product  Model
    type: object
    properties:
      description:
        type: string
      productId:
        type: string
  PublicationCover:
    description: PublicationCover is a representation of cover publication model
    type: object
    properties:
      coverImage:
        $ref: '#/definitions/FileInfo'
      date:
        type: string
      masterZip:
        $ref: '#/definitions/FileInfo'
      pageName:
        type: string
      thumbnail:
        $ref: '#/definitions/FileInfo'
  PublicationCoverBody:
    description: PublicationCoverBody is a body of cover history
    type: object
    properties:
      code:
        description: HTTP status code 200 - Status OK
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/PublicationCoverHistory'
      message:
        type: string
  PublicationCoverHistory:
    description: PublicationCoverHistory is a collection of today PublicaitonCover
      and historical Sectioned pdfs
    type: object
    properties:
      history:
        type: array
        items:
          $ref: '#/definitions/SectionPdfs'
      latest:
        $ref: '#/definitions/PublicationCover'
      pub:
        type: string
  PushResponseBody:
    type: object
    properties:
      code:
        type: integer
        format: int64
      message:
        type: string
  PushTokenRequestBody:
    description: Push Provider Token Model
    type: object
    required:
    - token
    - deviceId
    - pub
    - platform
    - provider
    properties:
      deviceId:
        type: string
      platform:
        type: string
      provider:
        type: string
      pub:
        type: string
      token:
        type: string
  PushTopicRequestBody:
    description: Model for the Request when subscribing to a topic
    type: object
    required:
    - token
    - deviceId
    - pub
    - topic
    - platform
    - provider
    properties:
      deviceId:
        type: string
      platform:
        type: string
      provider:
        type: string
      pub:
        type: string
      token:
        type: string
      topic:
        type: string
  SearchResponseBody:
    description: SearchResponseBody is the body of search result
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/FeedCard'
      message:
        type: string
      pagination:
        $ref: '#/definitions/Pagination'
  Section:
    description: Name is the content of a successful sections / printSections navigation
      feed
    type: object
    properties:
      alias:
        type: string
      code:
        type: string
      feed:
        type: string
      icon:
        type: string
      level:
        type: integer
        format: int64
      name:
        type: string
      subsection:
        type: array
        items:
          $ref: '#/definitions/Section'
      type:
        type: string
      url:
        type: string
      urlDarkMode:
        type: string
  SectionPdfs:
    description: SectionPdfs is a collection of pdf with a section name
    type: object
    properties:
      pdfs:
        type: array
        items:
          $ref: '#/definitions/PublicationCover'
      sectionName:
        type: string
  SectionResponseBody:
    description: SectionResponseBody is the body of sections / printSections navigation
      feed
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          $ref: '#/definitions/Section'
      message:
        type: string
  Sentiment:
    type: object
    title: Sentiment is keywords those advertisement-avoiding.
    properties:
      keywords:
        type: string
      provider:
        type: string
  Sponsor:
    type: object
    properties:
      text:
        type: string
      url:
        type: string
  SuccessResponseBody:
    description: SuccessResponseBody is a body of success response
    type: object
    properties:
      Articles:
        type: string
      code:
        description: HTTP status code 200 - Status OK
        type: integer
        format: int64
      data:
        type: string
      message:
        type: string
  Tag:
    type: object
    properties:
      id:
        type: integer
        format: int64
      name:
        type: string
  TokenData:
    type: object
    properties:
      aoVisitorId:
        type: string
      token:
        type: string
  Video:
    type: object
    properties:
      caption:
        type: string
      copyright:
        type: string
      credit:
        type: string
      description:
        type: string
      id:
        type: string
      poster:
        type: string
      provider:
        type: string
      thumbnail:
        type: string
      title:
        type: string
      type:
        type: string
      url:
        type: string
  WebhookResponseBody:
    type: object
    properties:
      code:
        type: integer
        format: int64
      data:
        type: array
        items:
          type: object
      message:
        type: string
responses:
  ArticleDetailResponse:
    description: ArticleDetailResponse return article detail
    schema:
      $ref: '#/definitions/ArticleDetailResponseBody'
  AutoCompleteResponse:
    description: AutoCompleteResponse is wrapper that returns autoComplete feed
    schema:
      $ref: '#/definitions/AutoCompleteResponseBody'
  DetailResponse:
    description: |-
      A DetailResponse response model
      This is used for returning response for epaper cover history by publication
    schema:
      $ref: '#/definitions/DetailBody'
  DiscoverResponse:
    description: DiscoverResponse is wrapper that returns discover keywords feed
    schema:
      $ref: '#/definitions/DiscoverResponseBody'
  FeedResponse:
    description: FeedResponse return feed results
    schema:
      $ref: '#/definitions/FeedsResponse'
  GeneralErrorResponse:
    description: |-
      A GeneralErrorResponse model
      This is used for returning error response code and message
    schema:
      $ref: '#/definitions/EpaperResponse'
  GetCoverByPublicationResponse:
    description: |-
      A GetCoverByPublicationResponse response model
      This is used for returning response for epaper cover history by publication
    schema:
      $ref: '#/definitions/PublicationCoverBody'
  GetProductList:
    description: |-
      A GetProductList response model
      This is used for getting Product List based on PublicationCode
    schema:
      $ref: '#/definitions/ListResponse'
  LoginResponse:
    description: |-
      A MySphLoginResponse response model
      This is used for returning response from login result
    schema:
      $ref: '#/definitions/LoginResponseBody'
  LogoutResponse:
    description: |-
      A MySphLogoutResponse response model
      This is used for returning response from logout result
    schema:
      $ref: '#/definitions/LogoutResponseBody'
  MySPHCheckDeviceResponse:
    description: |-
      A MySPHCheckDeviceResponse model
      this is used or returning response from check device result
    schema:
      $ref: '#/definitions/MySPHCheckDeviceResponseBody'
  PaginatedFeedResponse:
    description: PaginatedFeedResponse return feed results with pagination
    schema:
      $ref: '#/definitions/PaginatedFeedsResponseBody'
  PushResponse:
    description: |-
      PushResponse Model for all the endpoints
      This is used for returning response from all the push endpoints
    schema:
      $ref: '#/definitions/PushResponseBody'
  SearchResponse:
    description: SearchResponseBody is wrapper that returns search result
    schema:
      $ref: '#/definitions/SearchResponseBody'
  SectionsResponse:
    description: SectionsResponse is wrapper that returns sections / printSections
      navigation feed
    schema:
      $ref: '#/definitions/SectionResponseBody'
  SuccessResponse:
    description: |-
      A SucessResponse model
      This is used for returning success response
    schema:
      $ref: '#/definitions/SuccessResponseBody'
  WebhookResponse:
    description: |-
      A WebhookResponse response model
      This is used for returning response from Webhook result
    schema:
      $ref: '#/definitions/WebhookResponseBody'
securityDefinitions:
  api_key:
    type: apiKey
    name: x-api-key
    in: header
tags:
- name: st-feed
- name: st-discover
- name: push
x-amazon-apigateway-gateway-responses:
  ACCESS_DENIED:
    responseTemplates:
      application/json: '{"code": 403,"message": "APIGW: Access Denied","data": null}'
    statusCode: 403
  DEFAULT_4XX:
    responseTemplates:
      application/json: '{"code": 403,"message": "APIGW: Request Not Allowed","data":
        null}'
  EXPIRED_TOKEN:
    responseTemplates:
      application/json: '{"code": 403,"message": "APIGW: Configuration - Expired Token","data":
        null}'
    statusCode: 403
  INVALID_API_KEY:
    responseTemplates:
      application/json: '{"code": 403,"message": "APIGW: Invalid API Key","data":
        null}'
    statusCode: 403
  INVALID_SIGNATURE:
    responseTemplates:
      application/json: '{"code": 403,"message": "APIGW - Invalid Signature","data":
        null}'
    statusCode: 403
  MISSING_AUTHENTICATION_TOKEN:
    responseTemplates:
      application/json: '{"code": 403,"message": "APIGW: Unsupported API method or
        resource","data": null}'
    statusCode: 403
  WAF_FILTERED:
    responseTemplates:
      application/json: '{"code": 403,"message": "APIGW: WAF Filtered","data": null}'
    statusCode: 403